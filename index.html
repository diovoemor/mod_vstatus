<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>Mod_vstatus by romses</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Mod_vstatus</h1>
        <h2>Apache module for displaying HTTP error Codes for virtual hosts</h2>

        <section id="downloads">
          <a href="https://github.com/romses/mod_vstatus/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/romses/mod_vstatus/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/romses/mod_vstatus" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="mod_vstatus" class="anchor" href="#mod_vstatus"><span class="octicon octicon-link"></span></a>mod_vstatus</h1>

<h3>
<a name="statistic-tool-for-managing-vhosts-in-apache2" class="anchor" href="#statistic-tool-for-managing-vhosts-in-apache2"><span class="octicon octicon-link"></span></a>statistic tool for managing vhosts in apache2</h3>

<p>mod vstatus is a tool to collect apache requests summarized by vhost and status-code.</p>

<h2>
<a name="highlights" class="anchor" href="#highlights"><span class="octicon octicon-link"></span></a>Highlights</h2>

<ul>
<li>highly configurable</li>
<li>different output styles (csv,google charts, html)</li>
<li>filter by status code</li>
</ul><h2>
<a name="example-output" class="anchor" href="#example-output"><span class="octicon octicon-link"></span></a>example output</h2>

<h3>
<a name="csv" class="anchor" href="#csv"><span class="octicon octicon-link"></span></a>csv</h3>

<pre><code>Time,Host,Total,1xx,2xx,3xx,4xx,5xx,100,101,200,201,202,203,204,205,206,300,301,302,303,304,305,306,307,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,500,501,502,503,504,505
1394439580,Total,4497,0,3688,646,127,36,0,0,3182,0,0,0,0,0,506,0,531,3,2,110,0,0,0,1,97,0,0,10,0,0,0,19,0,0,0,0,0,0,0,0,0,36,0,0,0,0,0
1394439580,&lt;UNNAMED&gt;,122,0,103,0,19,0,0,0,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439580,&lt;VHOST1&gt;,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439580,&lt;VHOST2&gt;,347,0,343,4,0,0,0,0,343,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439580,&lt;VHOST3&gt;,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439565,Total,4497,0,3688,646,127,36,0,0,3182,0,0,0,0,0,506,0,531,3,2,110,0,0,0,1,97,0,0,10,0,0,0,19,0,0,0,0,0,0,0,0,0,36,0,0,0,0,0
1394439565,&lt;UNNAMED&gt;,122,0,103,0,19,0,0,0,103,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,19,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439565,&lt;VHOST1&gt;,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439565,&lt;VHOST2&gt;,347,0,343,4,0,0,0,0,343,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
1394439565,&lt;VHOST3&gt;,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
</code></pre>

<h2>
<a name="quick-start" class="anchor" href="#quick-start"><span class="octicon octicon-link"></span></a>Quick-start</h2>

<pre><code>checkout sourcecode
make
make install
</code></pre>

<p>add the following config directives to the apache config (e.g. /etc/apache2/http.conf)</p>

<pre><code>&lt;Location /vstatus&gt;
    SetHandler vstatus
    Order deny,allow
    Allow from 127.0.0.0/255.0.0.0
    Allow From 192.168.20.0/24
&lt;/Location&gt;

vstatusHistSize 120             #log 120 values per vhost
vstatusGranularity 1            # 1 second per log entry
# time monitored = vstatusGranularity*vstatusHistSize = 120 seconds

#vstatusFilter  &lt;NAME&gt; 0 1 2 3 4 5  # summarize error-codes (0 = all errors, 1 = 1xx ...)
#vstatusFormat  &lt;NAME&gt; &lt;format&gt;     # format=&lt;csv,json,google,htmldumpcsv,dump-json&gt;
#vstatusType    &lt;NAME&gt; abs          # &lt;abs|rel&gt; show absolute or relative values
#vstatusComment &lt;NAME&gt; Test         # comment

vstatusFilter  csv 0 1 2 3 4 404 5  # summarize error-codes (0 = all errors, 1 = 1xx ...)
vstatusFormat  csv csv
vstatusType    csv abs
vstatusComment csv Test

vstatusFilter  csv-rel 0 1 2 3 4 5
vstatusFormat  csv-rel csv
vstatusType    csv-rel rel
vstatusDelta   csv-rel 60
vstatusComment csv-rel "Shows all, 1xx,2xx,3xx,4xx,5xx codes based on the last 60 seconds"

vstatusFilter  google 0 1 2 3 4 5
vstatusFormat  google google
vstatusDelta   google 60
vstatusComment google "Data for google chart tools"
</code></pre>

<h3>
<a name="author---christopher-kreitz" class="anchor" href="#author---christopher-kreitz"><span class="octicon octicon-link"></span></a>Author - <a href="https://github.com/romses">Christopher Kreitz</a>
</h3>
      </section>
    </div>

    
  </body>
</html>